{"original_code": "def test_batch(echo, json_request):\n    resp = json_request(\n        [\n            {\n                \"id\": 111,\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"echo\",\n                \"params\": {\"data\": \"data-111\"},\n            },\n            {\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"echo\",\n                \"params\": {\"data\": \"data-notify\"},\n            },\n            {\n                \"id\": \"qwe\",\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"echo\",\n                \"params\": {\"data\": \"data-qwe\"},\n            },\n            {\n                \"id\": \"method-not-found\",\n                \"jsonrpc\": \"2.0\",\n                \"method\": \"echo-bla-bla\",\n                \"params\": {\"data\": \"data-123\"},\n            },\n        ]\n    )\n    assert resp == [\n        {\"id\": 111, \"jsonrpc\": \"2.0\", \"result\": \"data-111\"},\n        {\"id\": \"qwe\", \"jsonrpc\": \"2.0\", \"result\": \"data-qwe\"},\n        {\n            \"id\": \"method-not-found\",\n            \"jsonrpc\": \"2.0\",\n            \"error\": {\"code\": -32601, \"message\": \"Method not found\"},\n        },\n    ]\n    assert set(echo.history) == {\"data-111\", \"data-notify\", \"data-qwe\"}"}