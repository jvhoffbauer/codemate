{"original_code": "@needs_py310\ndef test_tutorial(clear_sqlmodel):\n    from docs_src.tutorial.where import tutorial004_py310 as mod\n\n    mod.sqlite_url = \"sqlite://\"\n    mod.engine = create_engine(mod.sqlite_url)\n    calls = []\n\n    new_print = get_testing_print_function(calls)\n\n    with patch(\"builtins.print\", new=new_print):\n        mod.main()\n    expected_calls = [\n        [{\"id\": 5, \"name\": \"Black Lion\", \"secret_name\": \"Trevor Challa\", \"age\": 35}],\n        [{\"id\": 6, \"name\": \"Dr. Weird\", \"secret_name\": \"Steve Weird\", \"age\": 36}],\n        [{\"id\": 3, \"name\": \"Rusty-Man\", \"secret_name\": \"Tommy Sharp\", \"age\": 48}],\n        [\n            {\n                \"id\": 7,\n                \"name\": \"Captain North America\",\n                \"secret_name\": \"Esteban Rogelios\",\n                \"age\": 93,\n            }\n        ],\n    ]\n    for call in expected_calls:\n        assert call in calls, \"This expected item should be in the list\"\n        # Now that this item was checked, remove it from the list\n        calls.pop(calls.index(call))\n    assert len(calls) == 0, \"The list should only have the expected items\""}