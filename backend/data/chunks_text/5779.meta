{"original_code": "    async def _conv_modelfields_to_formitems(\n        self,\n        request: Request,\n        fields: Iterable[Union[SqlaField, ModelField, FormItem]],\n        action: CrudEnum = None,\n    ) -> List[FormItem]:\n        items = []\n        for field in fields:\n            if isinstance(field, FormItem):\n                items.append(field)\n            else:\n                field = self.parser.get_modelfield(field)\n                if field:\n                    item = await self.get_form_item(request, field, action)\n                    if item:\n                        items.append(item)\n        items.sort(key=lambda i: isinstance(i, Service))\n        return items"}