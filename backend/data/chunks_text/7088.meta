{"original_code": "def create_random_user(db: Session) -> User:\n    email = random_email()\n    password = random_lower_string()\n    user = crud.user.get_by_email(db, email=email)\n    if not user:\n        user_in_create = UserCreate(email=email, password=password)\n        user = crud.user.create(db, obj_in=user_in_create)\n    else:\n        user_in_update = UserUpdate(password=password)\n        user = crud.user.update(db, db_obj=user, obj_in=user_in_update)\n    return user"}