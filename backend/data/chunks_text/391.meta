{"original_code": "def test_should_allow_duplicate_row_if_unique_constraint_is_not_passed(clear_sqlmodel):\n    class Hero(SQLModel, table=True):\n        id: Optional[int] = Field(default=None, primary_key=True)\n        name: str\n        secret_name: str\n        age: Optional[int] = None\n\n    hero_1 = Hero(name=\"Deadpond\", secret_name=\"Dive Wilson\")\n    hero_2 = Hero(name=\"Deadpond\", secret_name=\"Dive Wilson\")\n\n    engine = create_engine(\"sqlite://\")\n\n    SQLModel.metadata.create_all(engine)\n\n    with Session(engine) as session:\n        session.add(hero_1)\n        session.commit()\n        session.refresh(hero_1)\n\n    with Session(engine) as session:\n        session.add(hero_2)\n        session.commit()\n        session.refresh(hero_2)\n\n    with Session(engine) as session:\n        heroes = session.exec(select(Hero)).all()\n        assert len(heroes) == 2\n        assert heroes[0].name == heroes[1].name"}