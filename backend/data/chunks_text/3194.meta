{"original_code": "@needs_pydanticv1\ndef test_custom_encoders():\n    class safe_datetime(datetime):\n        pass\n\n    class MyModel(BaseModel):\n        dt_field: safe_datetime\n\n    instance = MyModel(dt_field=safe_datetime.now())\n\n    encoded_instance = jsonable_encoder(\n        instance, custom_encoder={safe_datetime: lambda o: o.isoformat()}\n    )\n    assert encoded_instance[\"dt_field\"] == instance.dt_field.isoformat()"}