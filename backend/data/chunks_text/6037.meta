{"original_code": "async def test_register_router(site: AdminSite, models):\n    site.register_admin(admin.ModelAdmin)\n    with pytest.raises(AssertionError) as exc:\n        ins = site.get_admin_or_create(admin.ModelAdmin)\n    assert exc.match(\"model is None\")\n    site.unregister_admin(admin.ModelAdmin)\n\n    @site.register_admin\n    class UserAdmin(admin.ModelAdmin):\n        model = models.User\n\n    ins = site.get_admin_or_create(UserAdmin)\n    assert ins.engine\n    assert ins.fields\n    site.register_router()\n    # test openapi\n    openapi = site.fastapi.openapi()\n    paths = openapi[\"paths\"]\n    assert f\"{ins.router_prefix}/list\" in paths\n    assert f\"{ins.router_prefix}/item\" in paths\n    assert f\"{ins.router_prefix}/item/{{item_id}}\" in paths"}