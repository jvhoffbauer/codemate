{"original_code": "def test_lowercase_middleware_multiple_values():\n    \"\"\"Make sure all values are available for lists.\"\"\"\n    app = FastAPI()\n\n    @app.get(\"/route1\")\n    async def route1(value: List[str] = Query(...)):\n        \"\"\"route1.\"\"\"\n        return {\"value\": value}\n\n    app.add_middleware(LowerCaseQueryStringMiddleware)\n\n    client = TestClient(app)\n\n    response = client.get(\"/route1?value=lorenzori&value=dogs\")\n    assert response.json() == {\"value\": [\"lorenzori\", \"dogs\"]}\n\n    response = client.get(\"/route1?VALUE=lorenzori&VALUE=dogs&value=trucks\")\n    assert response.json() == {\"value\": [\"lorenzori\", \"dogs\", \"trucks\"]}"}