{"original_code": "def test_update_item():\n    title = random_lower_string()\n    description = random_lower_string()\n    id = crud.utils.generate_new_id()\n    item_in = ItemCreate(title=title, description=description)\n    bucket = get_default_bucket()\n    user = create_random_user()\n    item = crud.item.upsert(\n        bucket=bucket, id=id, doc_in=item_in, owner_username=user.username, persist_to=1\n    )\n    description2 = random_lower_string()\n    item_update = ItemUpdate(description=description2)\n    item2 = crud.item.update(\n        bucket=bucket,\n        id=id,\n        doc_in=item_update,\n        owner_username=item.owner_username,\n        persist_to=1,\n    )\n    assert item.id == item2.id\n    assert item.title == item2.title\n    assert item.description == description\n    assert item2.description == description2\n    assert item.owner_username == item2.owner_username"}