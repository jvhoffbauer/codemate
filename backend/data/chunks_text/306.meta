{"original_code": "def update_heroes():\n    with Session(engine) as session:\n        hero_spider_boy = session.exec(\n            select(Hero).where(Hero.name == \"Spider-Boy\")\n        ).one()\n        team_z_force = session.exec(select(Team).where(Team.name == \"Z-Force\")).one()\n\n        spider_boy_z_force_link = HeroTeamLink(\n            team=team_z_force, hero=hero_spider_boy, is_training=True\n        )\n        team_z_force.hero_links.append(spider_boy_z_force_link)\n        session.add(team_z_force)\n        session.commit()\n\n        print(\"Updated Spider-Boy's Teams:\", hero_spider_boy.team_links)\n        print(\"Z-Force heroes:\", team_z_force.hero_links)\n\n        for link in hero_spider_boy.team_links:\n            if link.team.name == \"Preventers\":\n                link.is_training = False\n\n        session.add(hero_spider_boy)\n        session.commit()\n\n        for link in hero_spider_boy.team_links:\n            print(\"Spider-Boy team:\", link.team, \"is training:\", link.is_training)"}