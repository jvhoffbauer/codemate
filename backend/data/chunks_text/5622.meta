{"original_code": "        async def route(\n            request: Request,\n            item_id: self.AnnotatedItemIdList,  # type: ignore\n            data: Annotated[self.schema_update, Body()],  # type: ignore\n        ):\n            if not await self.has_update_permission(request, item_id, data):\n                return self.error_no_router_permission(request)\n            values = await self.on_update_pre(request, data, item_id=item_id)\n            if not values:\n                return self.error_data_handle(request)\n            items = await self.update_items(request, item_id, values)\n            return BaseApiOut(data=len(items))"}