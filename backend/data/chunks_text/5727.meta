{"original_code": "    async def page_parser(self, request: Request, page: Page) -> Response:\n        if request.method == \"GET\":\n            result = page.amis_html(\n                template_path=self.template_name,\n                locale=_.get_language(),\n                cdn=self.site.settings.amis_cdn,\n                pkg=self.site.settings.amis_pkg,\n                theme=self.site.settings.amis_theme,\n                site_title=self.site.settings.site_title,\n                site_icon=self.site.settings.site_icon,\n            )\n            result = HTMLResponse(result)\n        else:\n            data = page.amis_dict()\n            if await request.body():\n                data = deep_update(data, (await request.json()).get(\"_update\", {}))\n            result = BaseAmisApiOut(data=data)\n            result = JSONResponse(result.dict())\n        return result"}