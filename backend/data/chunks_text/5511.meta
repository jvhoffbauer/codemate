{"original_code": "def test_tile(httpx, rio, app):\n    \"\"\"test tile endpoints.\"\"\"\n    httpx.get = mock_RequestGet\n    rio.open = mock_rasterio_open\n\n    # Missing assets\n    response = app.get(\"/stac/tiles/9/289/207?url=https://myurl.com/item.json\")\n    assert response.status_code == 400\n\n    response = app.get(\n        \"/stac/tiles/9/289/207?url=https://myurl.com/item.json&assets=B01&rescale=0,1000\"\n    )\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"image/png\"\n    meta = parse_img(response.content)\n    assert meta[\"width\"] == 256\n    assert meta[\"height\"] == 256\n\n    response = app.get(\n        \"/stac/tiles/9/289/207?url=https://myurl.com/item.json&expression=B01_b1&rescale=0,1000\"\n    )\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"image/png\"\n    meta = parse_img(response.content)\n    assert meta[\"width\"] == 256\n    assert meta[\"height\"] == 256"}