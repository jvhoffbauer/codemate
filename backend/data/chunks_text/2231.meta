{"original_code": "def test_complex():\n    app = FastAPI()\n\n    @app.post(\"/\")\n    def foo(foo: Union[str, List[int]]):\n        return foo\n\n    client = TestClient(app)\n\n    response = client.post(\"/\", json=\"bar\")\n    assert response.status_code == 200, response.text\n    assert response.json() == \"bar\"\n\n    response2 = client.post(\"/\", json=[1, 2])\n    assert response2.status_code == 200, response2.text\n    assert response2.json() == [1, 2]"}