- Endpoint `/entities_by_type` is annotated with OpenAPI specification using Pydantic's decorator syntax. - The endpoint accepts a request body containing a list of records (structured data). - It uses the `extract_entities()` method provided by the custom skill to perform named entity recognition on each document and returns a list of entities. - The resulting entities are then grouped based on their labels (entity types), and the corresponding values are added to a dictionary representing the original record. - Finally, the modified records are returned as part of the API response.