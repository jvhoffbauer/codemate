{"original_code": "def register_init(app: FastAPI) -> None:\n    \"\"\"\n    \u521d\u59cb\u5316\u8fde\u63a5\n    :param app:\n    :return:\n    \"\"\"\n\n    @app.on_event(\"startup\")\n    async def init_connect():\n        # \u8fde\u63a5redis\n        redis_client.init_redis_connect()\n\n        # \u521d\u59cb\u5316 apscheduler\n        schedule.init_scheduler()\n\n        db.connect()\n\n    @app.on_event(\"shutdown\")\n    async def shutdown_connect():\n        \"\"\"\n        \u5173\u95ed\n        :return:\n        \"\"\"\n        schedule.shutdown()\n\n        if not db.is_closed():\n            db.close()"}