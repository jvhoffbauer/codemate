{"original_code": "def test_gzip_request(compress):\n    n = 1000\n    headers = {}\n    body = [1] * n\n    data = json.dumps(body).encode()\n    if compress:\n        data = gzip.compress(data)\n        headers[\"Content-Encoding\"] = \"gzip\"\n    headers[\"Content-Type\"] = \"application/json\"\n    response = client.post(\"/sum\", content=data, headers=headers)\n    assert response.json() == {\"sum\": n}"}