{"original_code": "def test_create_hero():\n    engine = create_engine(\n        \"sqlite://\",  # (2)!\n        connect_args={\"check_same_thread\": False},\n        poolclass=StaticPool,  # (3)!\n    )\n    SQLModel.metadata.create_all(engine)\n\n    with Session(engine) as session:\n\n        def get_session_override():\n            return session\n\n        app.dependency_overrides[get_session] = get_session_override\n\n        client = TestClient(app)\n\n        response = client.post(\n            \"/heroes/\", json={\"name\": \"Deadpond\", \"secret_name\": \"Dive Wilson\"}\n        )\n        app.dependency_overrides.clear()\n        data = response.json()\n\n        assert response.status_code == 200\n        assert data[\"name\"] == \"Deadpond\"\n        assert data[\"secret_name\"] == \"Dive Wilson\"\n        assert data[\"age\"] is None\n        assert data[\"id\"] is not None"}