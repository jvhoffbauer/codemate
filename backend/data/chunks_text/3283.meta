{"original_code": "def test_pydanticv1():\n    class ModelWithDatetimeField(BaseModel):\n        dt_field: datetime\n\n        class Config:\n            json_encoders = {\n                datetime: lambda dt: dt.replace(\n                    microsecond=0, tzinfo=timezone.utc\n                ).isoformat()\n            }\n\n    app = FastAPI()\n    model = ModelWithDatetimeField(dt_field=datetime(2019, 1, 1, 8))\n\n    @app.get(\"/model\", response_model=ModelWithDatetimeField)\n    def get_model():\n        return model\n\n    client = TestClient(app)\n    with client:\n        response = client.get(\"/model\")\n    assert response.json() == {\"dt_field\": \"2019-01-01T08:00:00+00:00\"}"}