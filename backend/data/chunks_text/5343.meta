{"original_code": "def test_image():\n    \"\"\"test image deps.\"\"\"\n\n    app = FastAPI()\n\n    @app.get(\"/\")\n    def _endpoint(params=Depends(dependencies.ImageParams)):\n        \"\"\"return params.\"\"\"\n        return params\n\n    client = TestClient(app)\n    response = client.get(\"/\")\n    assert response.json()[\"max_size\"] == 1024\n    assert not response.json()[\"height\"]\n    assert not response.json()[\"width\"]\n\n    response = client.get(\"/?max_size=2048\")\n    assert response.json()[\"max_size\"] == 2048\n    assert not response.json()[\"height\"]\n    assert not response.json()[\"width\"]\n\n    response = client.get(\"/?width=128\")\n    assert response.json()[\"max_size\"] == 1024\n    assert not response.json()[\"height\"]\n    assert response.json()[\"width\"] == 128\n\n    response = client.get(\"/?width=128&height=128\")\n    assert not response.json()[\"max_size\"]\n    assert response.json()[\"height\"] == 128\n    assert response.json()[\"width\"] == 128"}