{"original_code": "@router.get(\"/{user_id}/\", response_model=UserOut)\nasync def read_user(\n    user_id: int,\n    current_user: User = Depends(get_current_user),\n    session: AsyncSession = Depends(get_session),\n):\n    \"\"\"\n    Get a specific user by id.\n    \"\"\"\n    if current_user.id == user_id:\n        return current_user\n\n    user = await crud_user.get(session, id=user_id)\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=403, detail=\"The user doesn't have enough privileges\"\n        )\n    if user is None:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    return user"}