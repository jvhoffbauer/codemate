{"original_code": "    async def __call__(self, scope: Scope, receive: Receive, send: Send):\n        \"\"\"Handle call.\"\"\"\n        if scope[\"type\"] != \"http\":\n            await self.app(scope, receive, send)\n            return\n\n        async def send_wrapper(message: Message):\n            \"\"\"Send Message.\"\"\"\n            if message[\"type\"] == \"http.response.start\":\n                response_headers = MutableHeaders(scope=message)\n                if self.cachecontrol and not response_headers.get(\"Cache-Control\"):\n                    if (\n                        scope[\"method\"] in [\"HEAD\", \"GET\"]\n                        and message[\"status\"] < self.cachecontrol_max_http_code\n                        and not any(\n                            [\n                                re.match(path, scope[\"path\"])\n                                for path in self.exclude_path\n                            ]\n                        )\n                    ):\n                        response_headers[\"Cache-Control\"] = self.cachecontrol\n\n            await send(message)\n\n        await self.app(scope, receive, send_wrapper)"}