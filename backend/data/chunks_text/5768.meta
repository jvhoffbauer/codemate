{"original_code": "    async def get_list_table_api(self, request: Request) -> AmisAPI:\n        api = AmisAPI(\n            method=\"POST\",\n            url=f\"{self.router_path}/list?\"\n            + \"page=${page}&perPage=${perPage}&orderBy=${orderBy}&orderDir=${orderDir}\",\n            data={\"&\": \"$$\"},\n        )\n        if not await self.has_filter_permission(request, None):\n            return api\n        for field in self.search_fields:\n            alias = self.parser.get_alias(field)\n            if alias:\n                api.data[alias] = f\"[~]${alias}\"\n        for field in await self.get_list_filter(request):\n            if isinstance(field, FormItem):\n                api.data[field.name] = f\"${field.name}\"\n            else:\n                modelfield = self.parser.get_modelfield(field)\n                if modelfield and issubclass(\n                    modelfield.type_, (datetime.datetime, datetime.date, datetime.time)\n                ):\n                    api.data[modelfield.alias] = f\"[-]${modelfield.alias}\"\n        return api"}