{"original_code": "def ensure_create_full_text_indexes(\n    index_dir=COUCHBASE_FULL_TEXT_INDEX_DEFINITIONS_DIR,\n    username: str = COUCHBASE_USER,\n    password: str = COUCHBASE_PASSWORD,\n    host=\"couchbase\",\n    port=\"8094\",\n):\n    file_path: PurePath\n    for file_path in Path(index_dir).iterdir():\n        if file_path.name.endswith(\".json\"):\n            with open(file_path) as f:\n                index_definition = json.load(f)\n            name = index_definition.get(\"name\")\n            assert name, \"A full text search index definition must have a name field\"\n            current_index = get_index(\n                index_name=name,\n                username=username,\n                password=password,\n                host=host,\n                port=port,\n            )\n            if not current_index:\n                assert create_index(\n                    index_definition=index_definition,\n                    username=username,\n                    password=password,\n                    host=host,\n                    port=port,\n                ), \"Full Text Search index could not be created\""}