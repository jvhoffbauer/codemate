{"original_code": "async def test_TemplateAdmin(site: AdminSite, async_client: AsyncClient, tmpdir):\n    path = os.path.join(tmpdir, \"index.html\")\n    with open(path, \"w\") as file:\n        file.write(\"<html>Hello,{{ username }}</html>\")\n\n    @site.register_admin\n    class TmpAdmin(admin.TemplateAdmin):\n        page_path = \"/index\"\n        templates = Jinja2Templates(directory=str(tmpdir))\n        template_name = \"index.html\"\n\n        async def get_page(self, request: Request) -> Dict[str, Any]:\n            return {\"username\": \"hello\"}\n\n    ins = site.get_admin_or_create(TmpAdmin)\n    assert ins.page_path == \"/index\"\n    assert ins.page_schema.url == ins.router_path + ins.page_path\n    assert (\n        isinstance(ins.page_schema.schema_, amis.Iframe)\n        and ins.page_schema.schema_.src == ins.page_schema.url\n    )\n    site.register_router()\n\n    # test jinja2 html\n    res = await async_client.get(ins.router_path + ins.page_path)\n    assert res.text == \"<html>Hello,hello</html>\""}