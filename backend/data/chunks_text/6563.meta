{"original_code": "@pytest.fixture\ndef ep(ep_path):\n    _shared_counter = 0\n    _common_counter = 0\n\n    async def get_shared_counter(\n        shared: str = Header(\"shared\"),\n    ) -> str:\n        nonlocal _shared_counter\n        _shared_counter += 1\n        yield f\"{shared}-{_shared_counter}\"\n\n    async def get_common_counter(\n        common: str = Body(...),\n    ) -> str:\n        nonlocal _common_counter\n        _common_counter += 1\n        yield f\"{common}-{_common_counter}\"\n\n    ep = jsonrpc.Entrypoint(\n        ep_path,\n        dependencies=[Depends(get_shared_counter)],\n        common_dependencies=[Depends(get_common_counter)],\n    )\n\n    @ep.method()\n    def probe(\n        shared_counter: str = Depends(get_shared_counter),\n        common_counter: str = Depends(get_common_counter),\n    ) -> Tuple[str, str]:\n        return shared_counter, common_counter\n\n    return ep"}