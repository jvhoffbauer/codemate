{"original_code": "def on_config(config: MkDocsConfig, **kwargs: Any) -> MkDocsConfig:\n    available_langs = get_mkdocs_material_langs()\n    dir_path = Path(config.docs_dir)\n    lang = dir_path.parent.name\n    if lang in available_langs:\n        config.theme[\"language\"] = lang\n    if not (config.site_url or \"\").endswith(f\"{lang}/\") and not lang == \"en\":\n        config.site_url = f\"{config.site_url}{lang}/\"\n    return config"}