{"original_code": "def search_results_to_model(\n    results_from_couchbase: list, *, doc_model: Type[PydanticModel]\n) -> List[PydanticModel]:\n    items = []\n    for doc in results_from_couchbase:\n        data = doc.get(\"fields\")\n        if not data:\n            continue\n        data_nones = {}\n        for key, value in data.items():\n            field: Field = doc_model.__fields__[key]\n            if not value:\n                value = None\n            elif field.shape in {SHAPE_LIST, SHAPE_SET, SHAPE_TUPLE} and not isinstance(\n                value, list\n            ):\n                value = [value]\n            data_nones[key] = value\n        doc = doc_model(**data_nones)\n        items.append(doc)\n    return items"}