{"original_code": "def test_retrieve_users(client: TestClient, superuser_token_headers: dict, db: Session):\n    username = random_email()\n    password = random_lower_string()\n    user_in = UserCreate(email=username, password=password)\n    crud.user.create(db, obj_in=user_in)\n\n    username2 = random_email()\n    password2 = random_lower_string()\n    user_in2 = UserCreate(email=username2, password=password2)\n    crud.user.create(db, obj_in=user_in2)\n\n    response = client.get(\n        f\"{settings.API_STR}{settings.API_V1_STR}/users\",\n        headers=superuser_token_headers,\n    )\n    all_users = response.json()\n\n    assert len(all_users) > 1\n    for item in all_users:\n        assert \"email\" in item"}