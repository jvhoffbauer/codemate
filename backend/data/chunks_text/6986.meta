{"original_code": "@retry(\n    stop=stop_after_attempt(max_tries),\n    wait=wait_fixed(wait_seconds),\n    before=before_log(logger, logging.INFO),\n    after=after_log(logger, logging.WARN),\n)\ndef init() -> None:\n    logger.info(\"Initializing service\")\n    try:\n        db = SessionLocal()\n        # Try to create session to check if DB is awake\n        db.execute(\"SELECT 1\")\n    except Exception as e:\n        logger.error(e)\n        raise e\n    if (\n        os.environ.get(\"RUN_MIGRATION\")\n        and os.environ[\"RUN_MIGRATION\"].lower() == \"false\"\n    ):\n        logger.info(\"Skipping migrations\")\n    else:\n        logger.info(\"Running migrations\")\n        run_alembic_migrations()\n    logger.info(\"Initializing database entries\")\n    init_db(db)\n    logger.info(\"Service finished initializing\")"}