- This function takes a `WebSocket`, an optional cookie (stored in a `Cookie` object), and an optional query parameter called 'token'. It returns either the value of the cookie or the value of the query parameter, whichever one is not null. - If neither the cookie nor the query parameter are provided, it raises a `WebSocketException` with status code WS_1008_POLICY_VIOLATION to indicate that authentication is required.