- This function takes three arguments `websocket`, `session`, and `token`. It returns either the value of `session` or `token`, whichever one is not `None`. - If both `session` and `token` are `None`, it raises a `WebSocketException` with status code `status.WS_1008_POLICY_VIOLATION`. - The function uses Pydantic's annotations to specify that `session` can be either a string or a cookie object, while `token` can also be either a string or `None`.