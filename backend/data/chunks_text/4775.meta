{"original_code": "def send_email(email_to: str, subject_template=\"\", html_template=\"\", environment={}):\n    assert config.EMAILS_ENABLED, \"no provided configuration for email variables\"\n    message = emails.Message(\n        subject=JinjaTemplate(subject_template),\n        html=JinjaTemplate(html_template),\n        mail_from=(config.EMAILS_FROM_NAME, config.EMAILS_FROM_EMAIL),\n    )\n    smtp_options = {\"host\": config.SMTP_HOST, \"port\": config.SMTP_PORT}\n    if config.SMTP_TLS:\n        smtp_options[\"tls\"] = True\n    if config.SMTP_USER:\n        smtp_options[\"user\"] = config.SMTP_USER\n    if config.SMTP_PASSWORD:\n        smtp_options[\"password\"] = config.SMTP_PASSWORD\n    response = message.send(to=email_to, render=environment, smtp=smtp_options)\n    logging.info(f\"send email result: {response}\")"}