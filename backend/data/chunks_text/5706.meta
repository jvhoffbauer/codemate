{"original_code": "        async def route(\n            request: Request,\n            link_id: IdStrQuery,\n            item_id: self.pk_admin.AnnotatedItemIdList,  # type: ignore\n        ):\n            if not await self.pk_admin.has_update_permission(request, item_id, None):\n                return self.pk_admin.error_no_router_permission(request)\n            values = []\n            for item in map(get_python_type_parse(self.item_col), item_id):\n                values.extend(\n                    {self.link_col.key: link, self.item_col.key: item}\n                    for link in map(\n                        get_python_type_parse(self.link_col),\n                        parser_str_set_list(link_id),\n                    )\n                )\n            stmt = insert(self.link_model).values(values)\n            try:\n                result = await self.pk_admin.db.async_execute(stmt)\n            except Exception as error:\n                await self.pk_admin.db.async_rollback()\n                return self.pk_admin.error_execute_sql(request=request, error=error)\n            return BaseApiOut(data=result.rowcount)  # type: ignore"}