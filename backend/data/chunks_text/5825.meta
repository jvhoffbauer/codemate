{"original_code": "    def __init__(\n        self,\n        settings: Settings,\n        *,\n        fastapi: FastAPI = None,\n        engine: SqlalchemyDatabase = None,\n    ):\n        self.application = None\n        try:\n            from fastapi_user_auth.auth import Auth\n\n            self.auth: Auth = None  # type: ignore\n        except ImportError:\n            pass\n        self.settings = settings\n        self.amis_parser = AmisParser(\n            image_receiver=self.settings.amis_image_receiver,\n            file_receiver=self.settings.amis_file_receiver,\n        )\n        kwargs = (\n            {\n                \"debug\": True,\n            }\n            if settings.debug\n            else {\n                \"openapi_url\": None,\n                \"docs_url\": None,\n                \"redoc_url\": None,\n            }\n        )\n\n        self.fastapi = fastapi or FastAPI(**kwargs)\n        self.router = self.fastapi.router\n        if engine:\n            self.engine = engine\n        elif settings.database_url_async:\n            self.engine = AsyncDatabase.create(\n                settings.database_url_async, echo=settings.debug\n            )\n        elif settings.database_url:\n            self.engine = Database.create(settings.database_url, echo=settings.debug)\n        super().__init__(self)"}