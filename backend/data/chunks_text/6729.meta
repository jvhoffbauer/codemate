{"original_code": "@pytest.fixture\ndef sentry_init(monkeypatch_test_transport, request):\n    def inner(*a, **kw):\n        hub = sentry_sdk.Hub.current\n        client = sentry_sdk.Client(*a, **kw)\n        hub.bind_client(client)\n        if \"transport\" not in kw:\n            monkeypatch_test_transport(sentry_sdk.Hub.current.client)\n\n    if request.node.get_closest_marker(\"forked\"):\n        # Do not run isolation if the test is already running in\n        # ultimate isolation (seems to be required for celery tests that\n        # fork)\n        yield inner\n    else:\n        with sentry_sdk.Hub(None):\n            yield inner"}