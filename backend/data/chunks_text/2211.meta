{"original_code": "def test_warn_duplicate_operation_id():\n    def broken_operation_id(route: APIRoute):\n        return \"foo\"\n\n    app = FastAPI(generate_unique_id_function=broken_operation_id)\n\n    @app.post(\"/\")\n    def post_root(item1: Item):\n        return item1  # pragma: nocover\n\n    @app.post(\"/second\")\n    def post_second(item1: Item):\n        return item1  # pragma: nocover\n\n    @app.post(\"/third\")\n    def post_third(item1: Item):\n        return item1  # pragma: nocover\n\n    client = TestClient(app)\n    with warnings.catch_warnings(record=True) as w:\n        warnings.simplefilter(\"always\")\n        client.get(\"/openapi.json\")\n        assert len(w) == 2\n        assert issubclass(w[-1].category, UserWarning)\n        assert \"Duplicate Operation ID\" in str(w[-1].message)"}