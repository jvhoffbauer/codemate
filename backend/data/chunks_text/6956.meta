{"original_code": "async def delete_user(\n    user_id: int,\n    current_user: User = Depends(get_current_superuser),\n    session: AsyncSession = Depends(get_session),\n):\n    user = await crud_user.get(session, id=user_id)\n    if user is None:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    if current_user.id == user_id:\n        raise HTTPException(status_code=403, detail=\"User can't delete itself\")\n    await crud_user.delete(session, db_obj=user)"}