{"original_code": "def test_wmts(app):\n    \"\"\"test GET /mosaicjson/WMTSCapabilities.xml endpoint\"\"\"\n    with patch.object(FileBackend, \"_read\", mosaic_read_factory(MOSAICJSON_FILE)):\n        response = app.get(\n            \"/mosaicjson/WMTSCapabilities.xml\", params={\"url\": MOSAICJSON_FILE}\n        )\n        assert response.status_code == 200\n        assert response.headers[\"content-type\"] == \"application/xml\"\n        assert (\n            \"http://testserver/mosaicjson/tiles/WebMercatorQuad/{TileMatrix}/{TileCol}/{TileRow}@1x.png?url=\"\n            in response.content.decode()\n        )\n\n        response = app.get(\n            \"/mosaicjson/WMTSCapabilities.xml\",\n            params={\"url\": MOSAICJSON_FILE, \"tile_scale\": 2},\n        )\n        assert response.status_code == 200\n        assert response.headers[\"content-type\"] == \"application/xml\"\n        assert (\n            \"http://testserver/mosaicjson/tiles/WebMercatorQuad/{TileMatrix}/{TileCol}/{TileRow}@2x.png?url=\"\n            in response.content.decode()\n        )"}