{"original_code": "def assert_log_errors(caplog):\n    def _assert_log_errors(*errors):\n        error_messages = []\n        error_raises = []\n        for error in errors:\n            if isinstance(error, str):\n                error_messages.append(error)\n                error_raises.append(None)\n            else:\n                assert isinstance(\n                    error, RaisesContext\n                ), \"errors-element must be string or pytest.raises(...)\"\n                assert error_raises[-1] is None\n                error_raises[-1] = error\n\n        error_records = [r for r in caplog.records if r.levelno >= logging.ERROR]\n\n        assert [r.message for r in error_records] == error_messages\n\n        for record, error_raises_ctx in zip(error_records, error_raises):\n            if error_raises_ctx is not None:\n                with error_raises_ctx:\n                    raise record.exc_info[1]\n\n        # clear caplog records\n        for when in (\"setup\", \"call\"):\n            del caplog.get_records(when)[:]\n        caplog.clear()\n\n    return _assert_log_errors"}