- Defines a function `update_hero` that takes two arguments (a database session and the ID of the hero to be updated) as well as keyword arguments for updating specific fields of the hero using the `HeroUpdate` model. - Retrieves the existing hero from the database with the given ID or raises an error if it doesn't exist. - Converts the input `hero` object into a dictionary representing its data, excluding any unset attributes. - Iterates over each key-value pair in this dictionary and sets the corresponding attribute on the retrieved hero instance. - Adds the modified hero back to the session, commits the changes, and refreshes the object to ensure all updates are reflected. - Returns the updated hero object.