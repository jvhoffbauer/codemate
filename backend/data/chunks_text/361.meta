{"original_code": "def test_nullable_fields(clear_sqlmodel, caplog):\n    class Hero(SQLModel, table=True):\n        primary_key: Optional[int] = Field(\n            default=None,\n            primary_key=True,\n        )\n        required_value: str\n        optional_default_ellipsis: Optional[str] = Field(default=...)\n        optional_default_none: Optional[str] = Field(default=None)\n        optional_non_nullable: Optional[str] = Field(\n            nullable=False,\n        )\n        optional_nullable: Optional[str] = Field(\n            nullable=True,\n        )\n        optional_default_ellipses_non_nullable: Optional[str] = Field(\n            default=...,\n            nullable=False,\n        )\n        optional_default_ellipses_nullable: Optional[str] = Field(\n            default=...,\n            nullable=True,\n        )\n        optional_default_none_non_nullable: Optional[str] = Field(\n            default=None,\n            nullable=False,\n        )\n        optional_default_none_nullable: Optional[str] = Field(\n            default=None,\n            nullable=True,\n        )\n        default_ellipses_non_nullable: str = Field(default=..., nullable=False)\n        optional_default_str: Optional[str] = \"default\"\n        optional_default_str_non_nullable: Optional[str] = Field(\n            default=\"default\", nullable=False\n        )\n        optional_default_str_nullable: Optional[str] = Field(\n            default=\"default\", nullable=True\n        )\n        str_default_str: str = \"default\"\n        str_default_str_non_nullable: str = Field(default=\"default\", nullable=False)\n        str_default_str_nullable: str = Field(default=\"default\", nullable=True)\n        str_default_ellipsis_non_nullable: str = Field(default=..., nullable=False)\n        str_default_ellipsis_nullable: str = Field(default=..., nullable=True)\n\n    engine = create_engine(\"sqlite://\", echo=True)\n    SQLModel.metadata.create_all(engine)\n\n    create_table_log = [\n        message for message in caplog.messages if \"CREATE TABLE hero\" in message\n    ][0]\n    assert \"primary_key INTEGER NOT NULL,\" in create_table_log\n    assert \"required_value VARCHAR NOT NULL,\" in create_table_log\n    assert \"optional_default_ellipsis VARCHAR,\" in create_table_log\n    assert \"optional_default_none VARCHAR,\" in create_table_log\n    assert \"optional_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"optional_nullable VARCHAR,\" in create_table_log\n    assert (\n        \"optional_default_ellipses_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    )\n    assert \"optional_default_ellipses_nullable VARCHAR,\" in create_table_log\n    assert \"optional_default_none_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"optional_default_none_nullable VARCHAR,\" in create_table_log\n    assert \"default_ellipses_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"optional_default_str VARCHAR,\" in create_table_log\n    assert \"optional_default_str_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"optional_default_str_nullable VARCHAR,\" in create_table_log\n    assert \"str_default_str VARCHAR NOT NULL,\" in create_table_log\n    assert \"str_default_str_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"str_default_str_nullable VARCHAR,\" in create_table_log\n    assert \"str_default_ellipsis_non_nullable VARCHAR NOT NULL,\" in create_table_log\n    assert \"str_default_ellipsis_nullable VARCHAR,\" in create_table_log"}