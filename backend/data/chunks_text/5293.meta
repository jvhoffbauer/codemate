{"original_code": "def test_lowercase_middleware():\n    \"\"\"Make sure upper and lower case QS are accepted.\"\"\"\n    app = FastAPI()\n\n    @app.get(\"/route1\")\n    async def route1(value: str = Query(...)):\n        \"\"\"route1.\"\"\"\n        return {\"value\": value}\n\n    app.add_middleware(LowerCaseQueryStringMiddleware)\n\n    client = TestClient(app)\n\n    response = client.get(\"/route1?value=lorenzori\")\n    assert response.json() == {\"value\": \"lorenzori\"}\n\n    response = client.get(\"/route1?VALUE=lorenzori\")\n    assert response.json() == {\"value\": \"lorenzori\"}"}