{"original_code": "    async def on_update_pre(\n        self,\n        request: Request,\n        obj: SchemaUpdateT,\n        item_id: Union[List[str], List[int]],\n        **kwargs,\n    ) -> Dict[str, Any]:\n        data = obj.dict(exclude=self.update_exclude, exclude_unset=True, by_alias=True)\n        data = {\n            key: val\n            for key, val in data.items()\n            if val is not None or field_allow_none(model_fields(self.model)[key])\n        }\n        return data"}