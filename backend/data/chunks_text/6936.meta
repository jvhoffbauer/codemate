{"original_code": "def get_token_data(token: str = Depends(oauth2)) -> TokenPayload:\n    try:\n        secret_key = settings.SECRET_KEY.get_secret_value()\n        payload = jwt.decode(token, secret_key, algorithms=[ALGORITHM])\n        token_data = TokenPayload(**payload)\n    except (jwt.JWTError, ValidationError):\n        raise HTTPException(status_code=403, detail=\"Could not validate credentials\")\n    return token_data"}