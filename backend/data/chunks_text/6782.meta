{"original_code": "    def update(\n        self, db: Session, *, db_obj: User, obj_in: Union[UserUpdate, Dict[str, Any]]\n    ) -> User:\n        if isinstance(obj_in, dict):\n            update_data = obj_in\n        else:\n            update_data = obj_in.dict(exclude_unset=True)\n        if update_data[\"password\"]:\n            hashed_password = get_password_hash(update_data[\"password\"])\n            del update_data[\"password\"]\n            update_data[\"hashed_password\"] = hashed_password\n        return super().update(db, db_obj=db_obj, obj_in=update_data)"}