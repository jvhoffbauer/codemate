{"original_code": "def ColorMapParams(\n    colormap_name: ColorMapName = Query(None, description=\"Colormap name\"),\n    colormap: str = Query(None, description=\"JSON encoded custom Colormap\"),\n) -> Optional[ColorMapType]:\n    \"\"\"Colormap Dependency.\"\"\"\n    if colormap_name:\n        return cmap.get(colormap_name.value)\n\n    if colormap:\n        try:\n            c = json.loads(\n                colormap,\n                object_hook=lambda x: {int(k): parse_color(v) for k, v in x.items()},\n            )\n\n            # Make sure to match colormap type\n            if isinstance(c, Sequence):\n                c = [(tuple(inter), parse_color(v)) for (inter, v) in c]\n\n            return c\n        except json.JSONDecodeError as e:\n            raise HTTPException(\n                status_code=400, detail=\"Could not parse the colormap value.\"\n            ) from e\n\n    return None"}