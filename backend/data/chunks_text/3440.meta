{"original_code": "def test_custom_middleware_exception_not_raised(tmp_path: Path):\n    path = tmp_path / \"test.txt\"\n    path.write_bytes(b\"<file content>\")\n\n    with client:\n        with open(path, \"rb\") as file:\n            response = client.post(\"/middleware\", files={\"file\": file})\n        assert response.status_code == 200, response.text\n        assert response.json() == {\"message\": \"OK\"}"}