{"original_code": "@router.put(\"/users/tokens\", response_model=AccessTokenResponse)\nasync def refresh_tokens(\n    worker: BackgroundTasks,\n    response: Response,\n    refresh_token: dict[str, Any] = Depends(valid_refresh_token),\n    user: dict[str, Any] = Depends(valid_refresh_token_user),\n) -> AccessTokenResponse:\n    refresh_token_value = await service.create_refresh_token(\n        user_id=refresh_token[\"user_id\"]\n    )\n    response.set_cookie(**utils.get_refresh_token_settings(refresh_token_value))\n\n    worker.add_task(service.expire_refresh_token, refresh_token[\"uuid\"])\n    return AccessTokenResponse(\n        access_token=jwt.create_access_token(user=user),\n        refresh_token=refresh_token_value,\n    )"}