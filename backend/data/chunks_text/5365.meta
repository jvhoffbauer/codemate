{"original_code": "def test_timing_middleware_exclude(caplog):\n    \"\"\"Create App.\"\"\"\n    app = FastAPI()\n\n    @app.get(\"/route1\")\n    async def route1():\n        \"\"\"route1.\"\"\"\n        return \"Yo\"\n\n    app.add_middleware(LoggerMiddleware, querystrings=True, headers=True)\n\n    with TestClient(app) as client:\n        caplog.clear()\n        client.get(\"/route1\")\n        assert len([rec.message for rec in caplog.records]) == 2\n\n        caplog.clear()\n        client.get(\"/route1\", params={\"hey\": \"yo\"})\n        assert len([rec.message for rec in caplog.records]) == 3\n\n        caplog.clear()\n        client.get(\"/route1\", params={\"hey\": \"yo\"}, headers={\"accept-encoding\": \"gzip\"})\n        h = caplog.records[2].message\n        assert \"'accept-encoding': 'gzip'\" in h"}