{"original_code": "def update(\n    bucket: Bucket,\n    *,\n    id: str,\n    doc_in: ItemUpdate,\n    owner_username=None,\n    persist_to=0,\n    ttl=0,\n):\n    doc_id = get_doc_id(id=id)\n    doc = get(bucket, id=id)\n    doc = doc.copy(update=doc_in.dict(skip_defaults=True))\n    if owner_username is not None:\n        doc.owner_username = owner_username\n    return utils.upsert(\n        bucket=bucket, doc_id=doc_id, doc_in=doc, persist_to=persist_to, ttl=ttl\n    )"}