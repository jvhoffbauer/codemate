{"original_code": "def test_dataset():\n    \"\"\"test dataset deps.\"\"\"\n\n    app = FastAPI()\n\n    @app.get(\"/\", response_class=JSONResponse)\n    def _endpoint(params=Depends(dependencies.DatasetParams)):\n        \"\"\"return params.\"\"\"\n        return params\n\n    @app.get(\"/nan\", response_class=JSONResponse)\n    def is_nan(params=Depends(dependencies.DatasetParams)):\n        \"\"\"return params.\"\"\"\n        return str(params.nodata)\n\n    client = TestClient(app)\n    response = client.get(\"/\")\n    assert not response.json()[\"nodata\"]\n    assert not response.json()[\"unscale\"]\n    assert response.json()[\"resampling_method\"] == \"nearest\"\n\n    response = client.get(\"/?resampling=cubic\")\n    assert not response.json()[\"nodata\"]\n    assert not response.json()[\"unscale\"]\n    assert response.json()[\"resampling_method\"] == \"cubic\"\n\n    response = client.get(\"/?nodata=10\")\n    assert response.json()[\"nodata\"] == 10.0\n\n    response = client.get(\"/nan?nodata=nan\")\n    assert response.json() == \"nan\""}