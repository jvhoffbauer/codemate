{"original_code": "def test_encode_custom_json_encoders_model_pydanticv2():\n    from pydantic import field_serializer\n\n    class ModelWithCustomEncoder(BaseModel):\n        dt_field: datetime\n\n        @field_serializer(\"dt_field\")\n        def serialize_dt_field(self, dt):\n            return dt.replace(microsecond=0, tzinfo=timezone.utc).isoformat()\n\n    class ModelWithCustomEncoderSubclass(ModelWithCustomEncoder):\n        pass\n\n    model = ModelWithCustomEncoder(dt_field=datetime(2019, 1, 1, 8))\n    assert jsonable_encoder(model) == {\"dt_field\": \"2019-01-01T08:00:00+00:00\"}\n    subclass_model = ModelWithCustomEncoderSubclass(dt_field=datetime(2019, 1, 1, 8))\n    assert jsonable_encoder(subclass_model) == {\"dt_field\": \"2019-01-01T08:00:00+00:00\"}"}