{"original_code": "async def test_list_display(site: AdminSite, async_client: AsyncClient, models):\n    @site.register_admin\n    class UserAdmin(admin.ModelAdmin):\n        model = models.User\n        list_display = [models.User.id, models.User.username]\n\n    site.register_router()\n    ins = site.get_admin_or_create(UserAdmin)\n    assert \"username\" in model_fields(ins.schema_list)\n\n    # test schemas\n    openapi = site.fastapi.openapi()\n    schemas = openapi[\"components\"][\"schemas\"]\n    assert \"username\" in schemas[\"UserAdminList\"][\"properties\"]"}