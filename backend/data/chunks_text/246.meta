{"original_code": "@app.patch(\"/teams/{team_id}\", response_model=TeamRead)\ndef update_team(\n    *,\n    session: Session = Depends(get_session),\n    team_id: int,\n    team: TeamUpdate,\n):\n    db_team = session.get(Team, team_id)\n    if not db_team:\n        raise HTTPException(status_code=404, detail=\"Team not found\")\n    team_data = team.model_dump(exclude_unset=True)\n    for key, value in team_data.items():\n        setattr(db_team, key, value)\n    session.add(db_team)\n    session.commit()\n    session.refresh(db_team)\n    return db_team"}