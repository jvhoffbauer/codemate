{"original_code": "def test_celery_filter_truncates_current_id_correctly(\n    cid: str, log_record: LogRecord, uuid_length, expected\n):\n    \"\"\"\n    If uuid is unspecified, the default should be 36.\n\n    Otherwise, the id should be truncated to the specified length.\n    \"\"\"\n    filter_ = CeleryTracingIdsFilter(uuid_length=uuid_length)\n    celery_id = str(uuid4())\n    celery_current_id.set(celery_id)\n\n    assert not hasattr(log_record, \"celery_current_id\")\n    filter_.filter(log_record)\n    assert log_record.celery_current_id == celery_id[:expected]"}