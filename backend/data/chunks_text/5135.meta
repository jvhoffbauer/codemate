{"original_code": "    async def __call__(self, scope: Scope, receive: Receive, send: Send):\n        \"\"\"Handle call.\"\"\"\n        if scope[\"type\"] != \"http\":\n            await self.app(scope, receive, send)\n            return\n\n        start_time = time.time()\n\n        async def send_wrapper(message: Message):\n            \"\"\"Send Message.\"\"\"\n            if message[\"type\"] == \"http.response.start\":\n                response_headers = MutableHeaders(scope=message)\n                process_time = time.time() - start_time\n                app_time = \"total;dur={}\".format(round(process_time * 1000, 2))\n\n                timings = response_headers.get(\"Server-Timing\")\n                response_headers[\"Server-Timing\"] = (\n                    f\"{timings}, {app_time}\" if timings else app_time\n                )\n\n            await send(message)\n\n        await self.app(scope, receive, send_wrapper)"}