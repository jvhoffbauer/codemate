{"original_code": "def test_create_user_existing_username(superuser_token_headers):\n    server_api = get_server_api()\n    username = random_lower_string()\n    # username = email\n    password = random_lower_string()\n    user_in = UserCreate(username=username, email=username, password=password)\n    bucket = get_default_bucket()\n    user = crud.user.upsert(bucket, user_in=user_in, persist_to=1)\n    data = {\"username\": username, \"password\": password}\n    r = requests.post(\n        f\"{server_api}{config.API_V1_STR}/users/\",\n        headers=superuser_token_headers,\n        json=data,\n    )\n    created_user = r.json()\n    assert r.status_code == 400\n    assert \"_id\" not in created_user"}