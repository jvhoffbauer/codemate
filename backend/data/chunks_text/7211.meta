{"original_code": "def serialize_sqlalchemy_obj(obj) -> Union[dict, list]:\n    \"\"\"\n    \u5e8f\u5217\u5316fetchall()\u540e\u7684sqlalchemy\u5bf9\u8c61\n    https://codeandlife.com/2014/12/07/sqlalchemy-results-to-json-the-easy-way/\n    :param obj:\n    :return:\n    \"\"\"\n    if isinstance(obj, list):\n        # \u8f6c\u6362fetchall()\u7684\u7ed3\u679c\u96c6\n        return json.loads(json.dumps([dict(r) for r in obj], default=_alchemy_encoder))\n    else:\n        # \u8f6c\u6362fetchone()\u540e\u7684\u5bf9\u8c61\n        return json.loads(json.dumps(dict(obj), default=_alchemy_encoder))"}