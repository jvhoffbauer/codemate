{"original_code": "def get_current_user(token: Optional[str] = Depends(check_jwt_token)) -> User:\n    \"\"\"\n    \u6839\u636eheader\u4e2dtoken \u83b7\u53d6\u5f53\u524d\u7528\u6237\n    :param db:\n    :param token:\n    :return:\n    \"\"\"\n    user = User.single_by_id(uid=token.get(\"sub\"))\n    if not user:\n        raise custom_exc.TokenAuthError(err_desc=\"User not found\")\n    return user"}