{"original_code": "@needs_py39\ndef test_post_files_and_token(tmp_path, app: FastAPI):\n    patha = tmp_path / \"test.txt\"\n    pathb = tmp_path / \"testb.txt\"\n    patha.write_text(\"<file content>\")\n    pathb.write_text(\"<file b content>\")\n\n    client = TestClient(app)\n    with patha.open(\"rb\") as filea, pathb.open(\"rb\") as fileb:\n        response = client.post(\n            \"/files/\",\n            data={\"token\": \"foo\"},\n            files={\"file\": filea, \"fileb\": (\"testb.txt\", fileb, \"text/plain\")},\n        )\n    assert response.status_code == 200, response.text\n    assert response.json() == {\n        \"file_size\": 14,\n        \"token\": \"foo\",\n        \"fileb_content_type\": \"text/plain\",\n    }"}