{"original_code": "def test_openapi_schema():\n    response = client.get(\"/openapi.json\")\n    assert response.status_code == 200, response.text\n    assert response.json() == {\n        \"openapi\": \"3.1.0\",\n        \"info\": {\"title\": \"FastAPI\", \"version\": \"0.1.0\"},\n        \"servers\": [\n            {\"url\": \"/\", \"description\": \"Default, relative server\"},\n            {\n                \"url\": IsOneOf(\n                    \"http://staging.localhost.tiangolo.com:8000/\",\n                    # TODO: remove when deprecating Pydantic v1\n                    \"http://staging.localhost.tiangolo.com:8000\",\n                ),\n                \"description\": \"Staging but actually localhost still\",\n            },\n            {\n                \"url\": IsOneOf(\n                    \"https://prod.example.com/\",\n                    # TODO: remove when deprecating Pydantic v1\n                    \"https://prod.example.com\",\n                )\n            },\n        ],\n        \"paths\": {\n            \"/foo\": {\n                \"get\": {\n                    \"summary\": \"Foo\",\n                    \"operationId\": \"foo_foo_get\",\n                    \"responses\": {\n                        \"200\": {\n                            \"description\": \"Successful Response\",\n                            \"content\": {\"application/json\": {\"schema\": {}}},\n                        }\n                    },\n                }\n            }\n        },\n    }"}