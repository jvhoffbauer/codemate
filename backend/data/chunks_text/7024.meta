{"original_code": "@router.post(\n    \"\",\n    response_model=schemas.User,\n    dependencies=[Depends(deps.get_current_active_superuser)],\n)\ndef create_user(\n    *,\n    db: Session = Depends(deps.get_db),\n    user_in: schemas.UserAdminCreate,\n):\n    \"\"\"Create new user.\"\"\"\n    user = crud.user.get_by_email(db, email=user_in.email)\n    if user:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"The user with this username already exists in the system.\",\n        )\n    user = crud.user.create(db, obj_in=user_in)\n    if settings.EMAILS_ENABLED and user_in.email:\n        send_new_account_email(email_to=user_in.email, username=user_in.email)\n    return user"}