{"original_code": "def test_openapi_schema():\n    response = client.get(\"/openapi.json\")\n    assert response.status_code == 200\n    assert response.json() == {\n        \"openapi\": \"3.1.0\",\n        \"info\": {\"title\": \"FastAPI\", \"version\": \"0.1.0\"},\n        \"paths\": {\n            \"/items/next\": {\n                \"get\": {\n                    \"summary\": \"Read Next Item\",\n                    \"operationId\": \"read_next_item_items_next_get\",\n                    \"responses\": {\n                        \"200\": {\n                            \"description\": \"Successful Response\",\n                            \"content\": {\n                                \"application/json\": {\n                                    \"schema\": {\"$ref\": \"#/components/schemas/Item\"}\n                                }\n                            },\n                        }\n                    },\n                }\n            }\n        },\n        \"components\": {\n            \"schemas\": {\n                \"Item\": {\n                    \"title\": \"Item\",\n                    \"required\": IsOneOf(\n                        [\"name\", \"price\", \"tags\", \"description\", \"tax\"],\n                        # TODO: remove when deprecating Pydantic v1\n                        [\"name\", \"price\"],\n                    ),\n                    \"type\": \"object\",\n                    \"properties\": {\n                        \"name\": {\"title\": \"Name\", \"type\": \"string\"},\n                        \"price\": {\"title\": \"Price\", \"type\": \"number\"},\n                        \"tags\": IsDict(\n                            {\n                                \"title\": \"Tags\",\n                                \"type\": \"array\",\n                                \"items\": {\"type\": \"string\"},\n                            }\n                        )\n                        | IsDict(\n                            # TODO: remove when deprecating Pydantic v1\n                            {\n                                \"title\": \"Tags\",\n                                \"type\": \"array\",\n                                \"items\": {\"type\": \"string\"},\n                            }\n                        ),\n                        \"description\": IsDict(\n                            {\n                                \"title\": \"Description\",\n                                \"anyOf\": [{\"type\": \"string\"}, {\"type\": \"null\"}],\n                            }\n                        )\n                        | IsDict(\n                            # TODO: remove when deprecating Pydantic v1\n                            {\"title\": \"Description\", \"type\": \"string\"}\n                        ),\n                        \"tax\": IsDict(\n                            {\n                                \"title\": \"Tax\",\n                                \"anyOf\": [{\"type\": \"number\"}, {\"type\": \"null\"}],\n                            }\n                        )\n                        | IsDict(\n                            # TODO: remove when deprecating Pydantic v1\n                            {\"title\": \"Tax\", \"type\": \"number\"}\n                        ),\n                    },\n                }\n            }\n        },\n    }"}