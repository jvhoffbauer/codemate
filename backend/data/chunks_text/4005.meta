{"original_code": "@needs_pydanticv2\ndef test_openapi_schema(client: TestClient):\n    response = client.get(\"/openapi.json\")\n    assert response.status_code == 200, response.text\n    assert response.json() == {\n        \"openapi\": \"3.1.0\",\n        \"info\": {\"title\": \"FastAPI\", \"version\": \"0.1.0\"},\n        \"paths\": {\n            \"/items/\": {\n                \"post\": {\n                    \"summary\": \"Create Item\",\n                    \"operationId\": \"create_item_items__post\",\n                    \"requestBody\": {\n                        \"content\": {\n                            \"application/x-yaml\": {\n                                \"schema\": {\n                                    \"title\": \"Item\",\n                                    \"required\": [\"name\", \"tags\"],\n                                    \"type\": \"object\",\n                                    \"properties\": {\n                                        \"name\": {\"title\": \"Name\", \"type\": \"string\"},\n                                        \"tags\": {\n                                            \"title\": \"Tags\",\n                                            \"type\": \"array\",\n                                            \"items\": {\"type\": \"string\"},\n                                        },\n                                    },\n                                }\n                            }\n                        },\n                        \"required\": True,\n                    },\n                    \"responses\": {\n                        \"200\": {\n                            \"description\": \"Successful Response\",\n                            \"content\": {\"application/json\": {\"schema\": {}}},\n                        }\n                    },\n                }\n            }\n        },\n    }"}