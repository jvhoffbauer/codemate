{"original_code": "    def receive_wrapper(self, receive):\n        received = 0\n\n        async def inner():\n            nonlocal received\n            message = await receive()\n            if message[\"type\"] != \"http.request\":\n                return message  # pragma: no cover\n\n            body_len = len(message.get(\"body\", b\"\"))\n            received += body_len\n            if received > self.max_content_size:\n                raise HTTPException(\n                    422,\n                    detail={\n                        \"name\": \"ContentSizeLimitExceeded\",\n                        \"code\": 999,\n                        \"message\": \"File limit exceeded\",\n                    },\n                )\n            return message\n\n        return inner"}