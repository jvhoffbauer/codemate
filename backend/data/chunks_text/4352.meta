{"original_code": "def test_openapi_schema():\n    with TestClient(app) as client:\n        response = client.get(\"/openapi.json\")\n        assert response.status_code == 200, response.text\n        assert response.json() == {\n            \"openapi\": \"3.1.0\",\n            \"info\": {\"title\": \"FastAPI\", \"version\": \"0.1.0\"},\n            \"paths\": {\n                \"/predict\": {\n                    \"get\": {\n                        \"summary\": \"Predict\",\n                        \"operationId\": \"predict_predict_get\",\n                        \"parameters\": [\n                            {\n                                \"required\": True,\n                                \"schema\": {\"title\": \"X\", \"type\": \"number\"},\n                                \"name\": \"x\",\n                                \"in\": \"query\",\n                            }\n                        ],\n                        \"responses\": {\n                            \"200\": {\n                                \"description\": \"Successful Response\",\n                                \"content\": {\"application/json\": {\"schema\": {}}},\n                            },\n                            \"422\": {\n                                \"description\": \"Validation Error\",\n                                \"content\": {\n                                    \"application/json\": {\n                                        \"schema\": {\n                                            \"$ref\": \"#/components/schemas/HTTPValidationError\"\n                                        }\n                                    }\n                                },\n                            },\n                        },\n                    }\n                }\n            },\n            \"components\": {\n                \"schemas\": {\n                    \"HTTPValidationError\": {\n                        \"title\": \"HTTPValidationError\",\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"detail\": {\n                                \"title\": \"Detail\",\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"$ref\": \"#/components/schemas/ValidationError\"\n                                },\n                            }\n                        },\n                    },\n                    \"ValidationError\": {\n                        \"title\": \"ValidationError\",\n                        \"required\": [\"loc\", \"msg\", \"type\"],\n                        \"type\": \"object\",\n                        \"properties\": {\n                            \"loc\": {\n                                \"title\": \"Location\",\n                                \"type\": \"array\",\n                                \"items\": {\n                                    \"anyOf\": [{\"type\": \"string\"}, {\"type\": \"integer\"}]\n                                },\n                            },\n                            \"msg\": {\"title\": \"Message\", \"type\": \"string\"},\n                            \"type\": {\"title\": \"Error Type\", \"type\": \"string\"},\n                        },\n                    },\n                }\n            },\n        }"}