{"original_code": "@needs_py310\ndef test():\n    from docs_src.background_tasks.tutorial002_py310 import app\n\n    client = TestClient(app)\n    log = Path(\"log.txt\")\n    if log.is_file():\n        os.remove(log)  # pragma: no cover\n    response = client.post(\"/send-notification/foo@example.com?q=some-query\")\n    assert response.status_code == 200, response.text\n    assert response.json() == {\"message\": \"Message sent\"}\n    with open(\"./log.txt\") as f:\n        assert \"found query: some-query\\nmessage to foo@example.com\" in f.read()"}