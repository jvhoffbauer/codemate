{"original_code": "async def test_list_filter(app: FastAPI, async_client: AsyncClient, fake_users, models):\n    class UserCrud(SqlalchemyCrud):\n        router_prefix = \"/user\"\n        list_filter = [models.User.id, models.User.username]\n\n    ins = UserCrud(models.User, db.engine).register_crud()\n\n    app.include_router(ins.router)\n\n    assert \"username\" in model_fields(ins.schema_filter)\n    assert \"password\" not in model_fields(ins.schema_filter)\n\n    # test schemas\n    openapi = app.openapi()\n    schemas = openapi[\"components\"][\"schemas\"]\n    assert \"username\" in schemas[\"UserCrudFilter\"][\"properties\"]\n    assert \"password\" not in schemas[\"UserCrudFilter\"][\"properties\"]\n\n    # test api\n    res = await async_client.post(\"/user/list\", json={\"id\": 2})\n    items = res.json()[\"data\"][\"items\"]\n    assert items[0][\"id\"] == 2\n\n    res = await async_client.post(\"/user/list\", json={\"username\": \"User_2\"})\n    items = res.json()[\"data\"][\"items\"]\n    assert items[0][\"username\"] == \"User_2\"\n\n    res = await async_client.post(\"/user/list\", json={\"password\": \"new_password\"})\n    items = res.json()[\"data\"][\"items\"]\n    assert items"}