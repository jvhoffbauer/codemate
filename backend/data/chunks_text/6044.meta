{"original_code": "async def test_list_filter(site: AdminSite, async_client: AsyncClient, models):\n    @site.register_admin\n    class UserAdmin(admin.ModelAdmin):\n        model = models.User\n        list_filter = [models.User.id, models.User.username.label(\"name\")]\n        search_fields = [models.User.username]\n\n    site.register_router()\n    ins = site.get_admin_or_create(UserAdmin)\n    assert \"username\" in model_fields(ins.schema_filter)\n\n    # test schemas\n    openapi = site.fastapi.openapi()\n    schemas = openapi[\"components\"][\"schemas\"]\n    assert \"id\" in schemas[\"UserAdminFilter\"][\"properties\"]\n    assert \"username\" in schemas[\"UserAdminFilter\"][\"properties\"]\n    assert \"name\" in schemas[\"UserAdminFilter\"][\"properties\"]\n    assert \"password\" not in schemas[\"UserAdminFilter\"][\"properties\"]"}