- This function takes an annotation as input and returns a boolean indicating whether it's complex or not. - It uses Python's type hinting syntax to define `Union`, which represents a union of multiple types. - The function recursively checks the arguments of `Union` and its subclass `UnionType`. - If the original annotation or its origin (i.e., the base class from which it inherits) is complex, then this function returns True. - Additionally, the function checks if there are special attributes on the origin that indicate complexity, such as `__pydantic_core_schema__` or `__get_pydantic_core_schema__`.