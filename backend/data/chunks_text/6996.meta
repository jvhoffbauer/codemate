{"original_code": "    def update(\n        self, db: Session, *, db_obj: ModelType, obj_in: UpdateSchemaType\n    ) -> ModelType:\n        update_data = obj_in.dict(exclude_unset=True)\n        for field in update_data:\n            if hasattr(db_obj, field):\n                setattr(db_obj, field, update_data[field])\n            else:\n                raise AttributeError(\n                    f\"{self.model.__name__} does't have field '{field}'\"\n                )\n        db.add(db_obj)\n        db.commit()\n        db.refresh(db_obj)\n        return db_obj"}