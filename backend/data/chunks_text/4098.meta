{"original_code": "def test_websocket_handle_disconnection(client: TestClient):\n    with client.websocket_connect(\"/ws/1234\") as connection, client.websocket_connect(\n        \"/ws/5678\"\n    ) as connection_two:\n        connection.send_text(\"Hello from 1234\")\n        data1 = connection.receive_text()\n        assert data1 == \"You wrote: Hello from 1234\"\n        data2 = connection_two.receive_text()\n        client1_says = \"Client #1234 says: Hello from 1234\"\n        assert data2 == client1_says\n        data1 = connection.receive_text()\n        assert data1 == client1_says\n        connection_two.close()\n        data1 = connection.receive_text()\n        assert data1 == \"Client #5678 left the chat\""}