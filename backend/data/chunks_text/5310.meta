{"original_code": "def test_CustomCmap():\n    \"\"\"Test Custom Render Params dependency.\"\"\"\n    app = FastAPI()\n    cog = TilerFactory(colormap_dependency=ColorMapParams)\n    app.include_router(cog.router)\n    client = TestClient(app)\n\n    response = client.get(\n        f\"/preview.npy?url={DATA_DIR}/above_cog.tif&bidx=1&colormap_name=cmap1\"\n    )\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"application/x-binary\"\n    data = numpy.load(BytesIO(response.content))\n    assert 4 in data[0]\n    assert 5 in data[1]\n    assert 6 in data[2]\n\n    response = client.get(\n        f\"/preview.npy?url={DATA_DIR}/above_cog.tif&bidx=1&colormap_name=another_cmap\"\n    )\n    assert response.status_code == 422"}