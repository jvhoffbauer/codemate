{"original_code": "def reset_password(token: str = Body(...), new_password: str = Body(...)):\n    \"\"\"\n    Reset password.\n    \"\"\"\n    username = verify_password_reset_token(token)\n    if not username:\n        raise HTTPException(status_code=400, detail=\"Invalid token\")\n    bucket = get_default_bucket()\n    user = crud.user.get(bucket, username=username)\n    if not user:\n        raise HTTPException(\n            status_code=404,\n            detail=\"The user with this username does not exist in the system.\",\n        )\n    elif not crud.user.is_active(user):\n        raise HTTPException(status_code=400, detail=\"Inactive user\")\n    user_in = UserUpdate(name=username, password=new_password)\n    user = crud.user.update(bucket, username=username, user_in=user_in)\n    return {\"msg\": \"Password updated successfully\"}"}