{"original_code": "def send_email(\n    email_to: str,\n    subject_template: str = \"\",\n    html_template: str = \"\",\n    environment: Dict[str, Any] = {},\n) -> None:\n    assert settings.EMAILS_ENABLED, \"no provided configuration for email variables\"\n    message = emails.Message(\n        subject=JinjaTemplate(subject_template),\n        html=JinjaTemplate(html_template),\n        mail_from=(settings.EMAILS_FROM_NAME, settings.EMAILS_FROM_EMAIL),\n    )\n    smtp_options = {\"host\": settings.SMTP_HOST, \"port\": settings.SMTP_PORT}\n    if settings.SMTP_TLS:\n        smtp_options[\"tls\"] = True\n    if settings.SMTP_USER:\n        smtp_options[\"user\"] = settings.SMTP_USER\n    if settings.SMTP_PASSWORD:\n        smtp_options[\"password\"] = settings.SMTP_PASSWORD\n    response = message.send(to=email_to, render=environment, smtp=smtp_options)\n    logging.info(f\"send email result: {response}\")"}