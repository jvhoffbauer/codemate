{"original_code": "def test_sync_raise_server_error():\n    client = TestClient(app, raise_server_exceptions=False)\n    response = client.get(\"/sync_raise\")\n    assert response.status_code == 500, response.text\n    assert state[\"/sync_raise\"] == \"generator raise finalized\"\n    assert \"/sync_raise\" in errors\n    errors.clear()"}