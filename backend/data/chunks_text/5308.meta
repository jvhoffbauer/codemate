{"original_code": "def test_CustomRender():\n    \"\"\"Test Custom Render Params dependency.\"\"\"\n    app = FastAPI()\n    cog = TilerFactory(render_dependency=CustomRenderParams)\n    app.include_router(cog.router)\n    client = TestClient(app)\n\n    response = client.get(f\"/tiles/8/87/48.tif?url={DATA_DIR}/cog.tif\")\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"image/tiff; application=geotiff\"\n    meta = parse_img(response.content)\n    assert meta[\"driver\"] == \"GTiff\"\n    assert meta[\"nodata\"] is None\n    assert meta[\"count\"] == 2\n    assert not meta.get(\"compress\")\n\n    response = client.get(\n        f\"/tiles/8/87/48.tif?url={DATA_DIR}/cog.tif&return_mask=false&output_nodata=0&output_compression=deflate\"\n    )\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"image/tiff; application=geotiff\"\n    meta = parse_img(response.content)\n    assert meta[\"driver\"] == \"GTiff\"\n    assert meta[\"nodata\"] == 0\n    assert meta[\"count\"] == 1\n    assert meta[\"compress\"] == \"deflate\"\n\n    response = client.get(\n        f\"/tiles/9/289/207?url={DATA_DIR}/TCI.tif&rescale=0,1000&rescale=0,2000&rescale=0,3000\"\n    )\n    assert response.status_code == 200\n    assert response.headers[\"content-type\"] == \"image/png\"\n    meta = parse_img(response.content)\n    assert meta[\"width\"] == 256\n    assert meta[\"height\"] == 256"}