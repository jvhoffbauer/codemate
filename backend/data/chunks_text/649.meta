{"original_code": "def test_discriminator():\n    # Example adapted from\n    # [Pydantic docs](https://pydantic-docs.helpmanual.io/usage/types/#discriminated-unions-aka-tagged-unions):\n\n    class Cat(SQLModel):\n        pet_type: Literal[\"cat\"]\n        meows: int\n\n    class Dog(SQLModel):\n        pet_type: Literal[\"dog\"]\n        barks: float\n\n    class Lizard(SQLModel):\n        pet_type: Literal[\"reptile\", \"lizard\"]\n        scales: bool\n\n    class Model(SQLModel):\n        pet: Union[Cat, Dog, Lizard] = Field(..., discriminator=\"pet_type\")\n        n: int\n\n    Model(pet={\"pet_type\": \"dog\", \"barks\": 3.14}, n=1)  # type: ignore[arg-type]\n\n    with pytest.raises(ValidationError):\n        Model(pet={\"pet_type\": \"dog\"}, n=1)  # type: ignore[arg-type]"}