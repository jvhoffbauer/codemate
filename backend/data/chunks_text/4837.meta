{"original_code": "def search_items(\n    q: str,\n    skip: int = 0,\n    limit: int = 100,\n    current_user: UserInDB = Depends(get_current_active_user),\n):\n    \"\"\"\n    Search items, use Bleve Query String syntax:\n    http://blevesearch.com/docs/Query-String-Query/\n\n    For typeahead suffix with `*`. For example, a query with: `title:foo*` will match\n    items containing `football`, `fool proof`, etc.\n    \"\"\"\n    bucket = get_default_bucket()\n    if crud.user.is_superuser(current_user):\n        docs = crud.item.search(bucket=bucket, query_string=q, skip=skip, limit=limit)\n    else:\n        docs = crud.item.search_with_owner(\n            bucket=bucket,\n            query_string=q,\n            username=current_user.username,\n            skip=skip,\n            limit=limit,\n        )\n    return docs"}